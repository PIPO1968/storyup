<!DOCTYPE html>
<html lang="es">

<head>
    <link rel="icon" type="image/png" href="img/icon-192.png">
    <meta charset="UTF-8">
    <title>Mi perfil - StoryUp</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <ul style="list-style:none; padding:0; margin:0; display:flex; gap:8px;">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="landing.html">Presentación</a></li>
            <li><a href="explore.html">Explorar</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="signup.html">Registro</a></li>
            <li><a href="profile.html">Perfil</a></li>
            <li><a href="stats.html">Estadísticas</a></li>
            <li id="moderation-link" style="display:none;"><a href="moderation.html">Moderación</a></li>
        </ul>
    </nav>
    <script>
        const userRole = localStorage.getItem('role');
        if (userRole === 'moderador') {
            document.getElementById('moderation-link').style.display = 'block';
        }
    </script>
    <div class="contenido">
        <h1>Mi perfil</h1>
        <p id="user-info"></p>
        <div style="margin: 2em 0; text-align: center;">
            <h2>Mi imagen central</h2>
            <div id="profile-image-container">
                <img id="profile-image" src="" alt="Imagen de usuario"
                    style="max-width:220px;max-height:220px;display:none;border-radius:12px;box-shadow:0 2px 12px #0002;">
            </div>
            <form id="profile-image-form" style="margin-top:1em;">
                <input type="file" id="profile-image-input" accept="image/*">
            </form>
        </div>
        <h2>Mis historias</h2>
        <div id="my-stories"></div>
        <div id="edit-form-container" style="display:none;">
            <h3>Editar historia</h3>
            <form id="edit-form">
                <input type="text" id="edit-title" placeholder="Título" required>
                <textarea id="edit-text" placeholder="Texto" required></textarea>
                <select id="edit-language">
                    <option value="es">Español</option>
                    <option value="en">English</option>
                    <option value="fr">Français</option>
                    <option value="de">Deutsch</option>
                </select>
                <select id="edit-type">
                    <option value="real">Real</option>
                    <option value="ficcion">Ficción</option>
                    <option value="diario">Diario</option>
                    <option value="confesion">Confesión</option>
                </select>
                <button type="submit">Guardar cambios</button>
            </form>
        </div>
        <form id="story-form" style="margin-bottom:2em;">
            <input type="text" id="story-title" placeholder="Título de la historia" required
                style="width:100%;margin-bottom:8px;">
            <textarea id="story-text" placeholder="Escribe tu historia aquí..." required
                style="width:100%;margin-bottom:8px;"></textarea>
            <select id="story-language" required style="margin-bottom:8px;">
                <option value="es">Español</option>
                <option value="en">English</option>
                <option value="zh">中文 (Chino)</option>
                <option value="hi">हिन्दी (Hindi)</option>
                <option value="ar">العربية (Árabe)</option>
                <option value="pt">Português</option>
                <option value="ru">Русский (Ruso)</option>
                <option value="ja">日本語 (Japonés)</option>
                <option value="de">Deutsch (Alemán)</option>
                <option value="fr">Français</option>
                <option value="it">Italiano</option>
                <option value="tr">Türkçe (Turco)</option>
                <option value="ko">한국어 (Coreano)</option>
                <option value="vi">Tiếng Việt (Vietnamita)</option>
                <option value="pl">Polski (Polaco)</option>
                <option value="nl">Nederlands (Neerlandés)</option>
                <option value="fa">فارسی (Persa)</option>
                <option value="th">ไทย (Tailandés)</option>
                <option value="uk">Українська (Ucraniano)</option>
                <option value="ro">Română (Rumano)</option>
                <option value="el">Ελληνικά (Griego)</option>
                <option value="hu">Magyar (Húngaro)</option>
                <option value="sv">Svenska (Sueco)</option>
                <option value="cs">Čeština (Checo)</option>
                <option value="he">עברית (Hebreo)</option>
            </select>
            <select id="story-type" required style="margin-bottom:8px;">
                <option value="real">Real</option>
                <option value="ficcion">Ficción</option>
                <option value="diario">Diario</option>
                <option value="confesion">Confesión</option>
            </select>
            <label style="display:block;margin-bottom:8px;">
                <input type="checkbox" id="story-anonymous"> Publicar como anónimo
            </label>
            <button type="submit">Publicar historia</button>
        </form>
        <div id="friend-actions"></div>
        <div id="friend-requests"></div>
        <div id="friend-list"></div>
        <button id="logout-btn">Cerrar sesión</button>
    </div>
    <script src="profile.js"></script>
</body>

</html>