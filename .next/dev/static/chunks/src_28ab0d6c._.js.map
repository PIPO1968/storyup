{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/components/UserLink.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface UserLinkProps {\r\n    nick: string;\r\n    className?: string;\r\n}\r\n\r\nexport const UserLink: React.FC<UserLinkProps> = ({ nick, className }) => {\r\n    const [isPremium, setIsPremium] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkPremium = async () => {\r\n            // Verificar si el usuario es Premium desde API\r\n            if (nick) {\r\n                try {\r\n                    const response = await fetch(`/api/premium?nick=${nick}`);\r\n                    if (response.ok) {\r\n                        const data = await response.json();\r\n                        setIsPremium(data.isActive);\r\n                    } else {\r\n                        setIsPremium(false);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error checking premium:', error);\r\n                    setIsPremium(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        // Verificar inicialmente\r\n        checkPremium();\r\n\r\n        // Escuchar eventos personalizados de premium\r\n        const handlePremiumUpdate = (e: CustomEvent) => {\r\n            if (e.detail.nick === nick) {\r\n                checkPremium();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('premiumUpdate', handlePremiumUpdate as EventListener);\r\n\r\n        return () => {\r\n            window.removeEventListener('premiumUpdate', handlePremiumUpdate as EventListener);\r\n        };\r\n    }, [nick]);\r\n\r\n    const normalized = (nick || \"\").trim().toLowerCase();\r\n    if (!nick || normalized === \"anonimo\" || normalized === \"anÃ³nimo\") {\r\n        return <span className={className || \"text-gray-500\"}>{nick || \"(sin nick)\"}</span>;\r\n    }\r\n\r\n    return (\r\n        <a\r\n            href={`/perfil/${encodeURIComponent(nick)}`}\r\n            className={className || \"text-blue-600 underline hover:text-blue-800\"}\r\n            title={`Ver perfil de ${nick}${isPremium ? ' (Usuario Premium)' : ''}`}\r\n        >\r\n            {nick}\r\n            {isPremium && (\r\n                <span className=\"ml-1 inline-flex items-center\">\r\n                    <span\r\n                        className=\"bg-gradient-to-r from-sky-100 to-blue-100 text-amber-900 text-xs px-2 py-1 rounded-full font-bold shadow-md border border-sky-300\"\r\n                        title=\"Usuario Premium\"\r\n                    >\r\n                        ðŸ‘‘\r\n                    </span>\r\n                </span>\r\n            )}\r\n        </a>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;;AAOO,MAAM,WAAoC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;8BAAC;YACN,MAAM;mDAAe;oBACjB,+CAA+C;oBAC/C,IAAI,MAAM;wBACN,IAAI;4BACA,MAAM,WAAW,MAAM,MAAM,CAAC,kBAAkB,EAAE,MAAM;4BACxD,IAAI,SAAS,EAAE,EAAE;gCACb,MAAM,OAAO,MAAM,SAAS,IAAI;gCAChC,aAAa,KAAK,QAAQ;4BAC9B,OAAO;gCACH,aAAa;4BACjB;wBACJ,EAAE,OAAO,OAAO;4BACZ,QAAQ,KAAK,CAAC,2BAA2B;4BACzC,aAAa;wBACjB;oBACJ;gBACJ;;YAEA,yBAAyB;YACzB;YAEA,6CAA6C;YAC7C,MAAM;0DAAsB,CAAC;oBACzB,IAAI,EAAE,MAAM,CAAC,IAAI,KAAK,MAAM;wBACxB;oBACJ;gBACJ;;YAEA,OAAO,gBAAgB,CAAC,iBAAiB;YAEzC;sCAAO;oBACH,OAAO,mBAAmB,CAAC,iBAAiB;gBAChD;;QACJ;6BAAG;QAAC;KAAK;IAET,MAAM,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,GAAG,WAAW;IAClD,IAAI,CAAC,QAAQ,eAAe,aAAa,eAAe,WAAW;QAC/D,qBAAO,6LAAC;YAAK,WAAW,aAAa;sBAAkB,QAAQ;;;;;;IACnE;IAEA,qBACI,6LAAC;QACG,MAAM,CAAC,QAAQ,EAAE,mBAAmB,OAAO;QAC3C,WAAW,aAAa;QACxB,OAAO,CAAC,cAAc,EAAE,OAAO,YAAY,uBAAuB,IAAI;;YAErE;YACA,2BACG,6LAAC;gBAAK,WAAU;0BACZ,cAAA,6LAAC;oBACG,WAAU;oBACV,OAAM;8BACT;;;;;;;;;;;;;;;;;AAOrB;GA/Da;KAAA","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/utils/renderNick.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { UserLink } from \"@/components/UserLink\";\r\n\r\nexport function renderNick(nick: string, className?: string) {\r\n    return <UserLink nick={nick} className={className} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,WAAW,IAAY,EAAE,SAAkB;IACvD,qBAAO,6LAAC,6IAAQ;QAAC,MAAM;QAAM,WAAW;;;;;;AAC5C","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/StoryUp.es%20-%20copia%20-%20copia/src/app/noticias/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { renderNick } from \"@/utils/renderNick\";\r\n\r\nexport default function Noticias() {\r\n    type Noticia = {\r\n        id: number;\r\n        titulo: string;\r\n        autor: string;\r\n        fecha: string;\r\n        contenido: string;\r\n        imagen?: string;\r\n    };\r\n\r\n    const [noticias, setNoticias] = React.useState<Noticia[]>([]);\r\n    React.useEffect(() => {\r\n        const fetchNoticias = async () => {\r\n            try {\r\n                const response = await fetch('/api/noticias');\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    setNoticias(data.slice(0, 25));\r\n                } else {\r\n                    console.error('Error fetching news');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n            }\r\n        };\r\n        fetchNoticias();\r\n    }, []);\r\n    const mostrarNoticias = noticias.length > 0\r\n        ? noticias.map((noticia) => {\r\n            console.log(`Procesando noticia ${noticia.id}:`, noticia);\r\n            return (\r\n                <div key={noticia.id} className=\"bg-white rounded-lg shadow-md p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"font-bold text-lg text-blue-700\">{noticia.titulo || 'TÃ­tulo no disponible'}</span>\r\n                        {noticia.autor && (\r\n                            <span className=\"ml-4\">{renderNick(noticia.autor)}</span>\r\n                        )}\r\n                        {noticia.fecha && (\r\n                            <span className=\"ml-4 text-gray-500 text-sm\">{new Date(noticia.fecha).toLocaleString()}</span>\r\n                        )}\r\n                    </div>\r\n                    <p className=\"text-gray-800\">{noticia.contenido || 'Contenido no disponible'}</p>\r\n                </div>\r\n            );\r\n        })\r\n        : null; // No renderizar nada si no hay noticias\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-green-100 p-8\">\r\n            <header className=\"mb-8\">\r\n                <h1 className=\"text-2xl font-bold text-center\">Ãšltimas Noticias</h1>\r\n            </header>\r\n            <main>\r\n                <section className=\"container mx-auto\">\r\n                    <div className=\"grid grid-cols-1 gap-6 max-w-3xl mx-auto\">\r\n                        {mostrarNoticias}\r\n                    </div>\r\n                </section>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IAUpB,MAAM,CAAC,UAAU,YAAY,GAAG,wKAAK,CAAC,QAAQ,CAAY,EAAE;IAC5D,wKAAK,CAAC,SAAS;8BAAC;YACZ,MAAM;oDAAgB;oBAClB,IAAI;wBACA,MAAM,WAAW,MAAM,MAAM;wBAC7B,IAAI,SAAS,EAAE,EAAE;4BACb,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,YAAY,KAAK,KAAK,CAAC,GAAG;wBAC9B,OAAO;4BACH,QAAQ,KAAK,CAAC;wBAClB;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,UAAU;oBAC5B;gBACJ;;YACA;QACJ;6BAAG,EAAE;IACL,MAAM,kBAAkB,SAAS,MAAM,GAAG,IACpC,SAAS,GAAG,CAAC,CAAC;QACZ,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE;QACjD,qBACI,6LAAC;YAAqB,WAAU;;8BAC5B,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;sCAAmC,QAAQ,MAAM,IAAI;;;;;;wBACpE,QAAQ,KAAK,kBACV,6LAAC;4BAAK,WAAU;sCAAQ,IAAA,4IAAU,EAAC,QAAQ,KAAK;;;;;;wBAEnD,QAAQ,KAAK,kBACV,6LAAC;4BAAK,WAAU;sCAA8B,IAAI,KAAK,QAAQ,KAAK,EAAE,cAAc;;;;;;;;;;;;8BAG5F,6LAAC;oBAAE,WAAU;8BAAiB,QAAQ,SAAS,IAAI;;;;;;;WAV7C,QAAQ,EAAE;;;;;IAa5B,KACE,MAAM,wCAAwC;IAEpD,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAO,WAAU;0BACd,cAAA,6LAAC;oBAAG,WAAU;8BAAiC;;;;;;;;;;;0BAEnD,6LAAC;0BACG,cAAA,6LAAC;oBAAQ,WAAU;8BACf,cAAA,6LAAC;wBAAI,WAAU;kCACV;;;;;;;;;;;;;;;;;;;;;;AAMzB;GA7DwB;KAAA","debugId":null}}]
}