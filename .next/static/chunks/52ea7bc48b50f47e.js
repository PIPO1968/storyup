(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56095,e=>{"use strict";var s=e.i(43476),t=e.i(71645);let l=({nick:e,className:l})=>{let[a,r]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let s=()=>{if(e){let s=localStorage.getItem(`premium_${e}`);if(s)try{let e=JSON.parse(s),t=new Date(e.expiracion)>new Date;r(t)}catch(e){r(!1)}else r(!1)}};s();let t=e=>{(e.key?.startsWith("premium_")||null===e.key)&&s()},l=t=>{t.detail.nick===e&&s()};return window.addEventListener("storage",t),window.addEventListener("premiumUpdate",l),()=>{window.removeEventListener("storage",t),window.removeEventListener("premiumUpdate",l)}},[e]);let i=(e||"").trim().toLowerCase();return e&&"anonimo"!==i&&"anÃ³nimo"!==i?(0,s.jsxs)("a",{href:`/perfil/${encodeURIComponent(e)}`,className:l||"text-blue-600 underline hover:text-blue-800",title:`Ver perfil de ${e}${a?" (Usuario Premium)":""}`,children:[e,a&&(0,s.jsx)("span",{className:"ml-1 inline-flex items-center",children:(0,s.jsx)("span",{className:"bg-gradient-to-r from-sky-100 to-blue-100 text-amber-900 text-xs px-2 py-1 rounded-full font-bold shadow-md border border-sky-300",title:"Usuario Premium",children:"ðŸ‘‘"})})]}):(0,s.jsx)("span",{className:l||"text-gray-500",children:e||"(sin nick)"})};function a(e,t){return(0,s.jsx)(l,{nick:e,className:t})}e.s(["renderNick",()=>a],56095)},41671,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(56095),a=e.i(88379);function r(){let[e,r]=(0,t.useState)([]),[i,n]=(0,t.useState)([]),[c,o]=(0,t.useState)([]),{t:d}=(0,a.useTranslation)();return(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/historias");if(e.ok){let s=await e.json();r(s.slice(0,25)),n([...s].sort((e,s)=>(s.likes||0)-(e.likes||0)).slice(0,25)),o([...s].sort((e,s)=>(s.comentarios?.length||0)-(e.comentarios?.length||0)).slice(0,25))}else console.error("Error fetching historias")}catch(e){console.error("Error:",e)}})()},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-green-100 p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:d("historiasTitle")}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-4xl mx-auto mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-2 text-center",children:d("ultimas25Historias")}),(0,s.jsx)("ul",{className:"divide-y",children:e.length>0?e.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("a",{href:`/historias/${e.id}`,className:"text-blue-600 hover:underline flex-1 ml-2",children:e.titulo}),(0,s.jsx)("span",{className:"ml-4 text-gray-700",children:(0,l.renderNick)(e.autor)}),(0,s.jsx)("span",{className:"ml-4 text-gray-500 text-sm",children:e.fecha}),(0,s.jsxs)("span",{className:"ml-4 text-pink-600 font-bold",children:["â¤ï¸ ",e.likes||0]})]},e.id)):Array.from({length:25},(e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("span",{className:"text-gray-400 flex-1 ml-2",children:d("aunNoHayHistoria")})]},t))})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-8 max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 w-1/2",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-2 text-center",children:d("topHistoriasLikes")}),(0,s.jsx)("ul",{className:"divide-y",children:i.length>0?i.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("a",{href:`/historias/${e.id}`,className:"text-blue-600 hover:underline flex-1 ml-2",children:e.titulo}),(0,s.jsx)("span",{className:"ml-4 text-gray-700",children:(0,l.renderNick)(e.autor)}),(0,s.jsx)("span",{className:"ml-4 text-gray-500 text-sm",children:e.fecha}),(0,s.jsxs)("span",{className:"ml-4 text-pink-600 font-bold",children:["â¤ï¸ ",e.likes||0]})]},e.id)):Array.from({length:25},(e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("span",{className:"text-gray-400 flex-1 ml-2",children:d("aunNoHayHistoria")})]},t))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 w-1/2",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-2 text-center",children:d("topHistoriasComentarios")}),(0,s.jsx)("ul",{className:"divide-y",children:c.length>0?c.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("a",{href:`/historias/${e.id}`,className:"text-blue-600 hover:underline flex-1 ml-2",children:e.titulo}),(0,s.jsx)("span",{className:"ml-4 text-gray-700",children:(0,l.renderNick)(e.autor)}),(0,s.jsx)("span",{className:"ml-4 text-gray-500 text-sm",children:e.fecha}),(0,s.jsxs)("span",{className:"ml-4 text-green-600 font-bold",children:["ðŸ’¬ ",e.comentarios?.length||0]})]},e.id)):Array.from({length:25},(e,t)=>(0,s.jsxs)("li",{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("span",{className:"font-bold w-8 text-center",children:[t+1,"Âº"]}),(0,s.jsx)("span",{className:"text-gray-400 flex-1 ml-2",children:d("aunNoHayHistoria")})]},t))})]})]})]})}e.s(["default",()=>r])}]);