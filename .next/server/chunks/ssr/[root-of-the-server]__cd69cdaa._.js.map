{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/src/app/torneos-premium/page.tsx","turbopack:///[project]/src/utils/user-data.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { UserDataAPI } from \"../../utils/user-data\";\r\nimport { User } from \"../../utils/users\";\r\n\r\ninterface Torneo {\r\n    id: string;\r\n    nombre: string;\r\n    descripcion: string;\r\n    fechaInicio: string;\r\n    fechaFin: string;\r\n    categoria: string;\r\n    premio: string;\r\n    maxParticipantes: number;\r\n    participantes: string[];\r\n    estado: 'registro' | 'activo' | 'finalizado';\r\n    ganador?: string;\r\n    resultados?: unknown[];\r\n}\r\n\r\ninterface Resultado {\r\n    nick: string;\r\n    aciertos: number;\r\n    puntuacion: number;\r\n}\r\n\r\nconst TorneosPremiumPage: React.FC = () => {\r\n    const router = useRouter();\r\n    const [usuarioActual, setUsuarioActual] = useState<User | null>(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userData = sessionStorage.getItem('user');\r\n            return userData ? JSON.parse(userData) : null;\r\n        }\r\n        return null;\r\n    });\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [torneos, setTorneos] = useState<Torneo[]>([]);\r\n    const [torneoActivo, setTorneoActivo] = useState<Torneo | null>(null);\r\n    const [stats, setStats] = useState({ victorias: 0, participaciones: 0, puntuacionTotal: 0 });\r\n    const [cursoUsuario, setCursoUsuario] = useState<number>(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userData = sessionStorage.getItem('user');\r\n            if (userData) {\r\n                const user = JSON.parse(userData);\r\n                let cursoDetectado = 1; // Por defecto 1¬∫ Primaria\r\n\r\n                // Si es docente, usar 6¬∫ curso por defecto\r\n                const esDocente = user.esProfesor || user.tipo === \"docente\" || user.tipo === \"Docente\";\r\n\r\n                if (esDocente) {\r\n                    cursoDetectado = 6;\r\n                } else if (user.curso) {\r\n                    // Para estudiantes, usar su curso real\r\n                    if (typeof user.curso === \"string\") {\r\n                        const match = user.curso.match(/(\\d)/);\r\n                        if (match) {\r\n                            const numero = parseInt(match[1]);\r\n                            cursoDetectado = numero;\r\n                        }\r\n                    } else if (typeof user.curso === \"number\") {\r\n                        cursoDetectado = user.curso;\r\n                    }\r\n                }\r\n\r\n                // Asegurar que el curso est√© entre 1 y 6\r\n                if (cursoDetectado < 1) cursoDetectado = 1;\r\n                if (cursoDetectado > 6) cursoDetectado = 6;\r\n\r\n                return cursoDetectado;\r\n            }\r\n        }\r\n        return 1;\r\n    });\r\n\r\n    const cargarTorneos = async () => {\r\n        if (!usuarioActual) return;\r\n\r\n        // Verificar si necesitamos resetear torneos\r\n        const lastReset = await UserDataAPI.getUserData(usuarioActual.nick, 'torneos_premium_last_reset');\r\n        const now = new Date();\r\n        const lastResetDate = lastReset ? new Date(lastReset as string | number | Date) : null;\r\n\r\n        // Resetear si es un nuevo mes o no hay datos\r\n        const shouldReset = !lastResetDate || lastResetDate.getMonth() !== now.getMonth() || lastResetDate.getFullYear() !== now.getFullYear();\r\n\r\n        if (shouldReset) {\r\n            // Crear torneos mensuales por defecto\r\n            const currentMonth = new Date().getMonth();\r\n            const currentYear = new Date().getFullYear();\r\n            const torneosDefault: Torneo[] = [\r\n                {\r\n                    id: 'torneo-mensual-1primaria',\r\n                    nombre: 'Torneo Mensual 1¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 1¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                },\r\n                {\r\n                    id: 'torneo-mensual-2primaria',\r\n                    nombre: 'Torneo Mensual 2¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 2¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                },\r\n                {\r\n                    id: 'torneo-mensual-3primaria',\r\n                    nombre: 'Torneo Mensual 3¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 3¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                },\r\n                {\r\n                    id: 'torneo-mensual-4primaria',\r\n                    nombre: 'Torneo Mensual 4¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 4¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                },\r\n                {\r\n                    id: 'torneo-mensual-5primaria',\r\n                    nombre: 'Torneo Mensual 5¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 5¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                },\r\n                {\r\n                    id: 'torneo-mensual-6primaria',\r\n                    nombre: 'Torneo Mensual 6¬∫ Primaria',\r\n                    descripcion: 'Compite en el torneo mensual de 6¬∫ Primaria. 25 preguntas de asignaturas generales.',\r\n                    fechaInicio: new Date().toISOString(),\r\n                    fechaFin: new Date(currentYear, currentMonth + 1, 0).toISOString(),\r\n                    categoria: 'general',\r\n                    premio: 'Medalla Especial + 200 puntos Liga Premium',\r\n                    maxParticipantes: 16,\r\n                    participantes: [],\r\n                    estado: 'registro'\r\n                }\r\n            ];\r\n            setTorneos(torneosDefault);\r\n            await UserDataAPI.setUserData(usuarioActual.nick, 'torneos_premium', torneosDefault);\r\n            await UserDataAPI.setUserData(usuarioActual.nick, 'torneos_premium_last_reset', now.toISOString());\r\n        } else {\r\n            // Cargar torneos existentes\r\n            const torneosData = await UserDataAPI.getUserData(usuarioActual.nick, 'torneos_premium');\r\n            setTorneos((torneosData as Torneo[]) || []);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== \"undefined\") {\r\n            const userData = sessionStorage.getItem('user');\r\n            if (userData) {\r\n                const user = JSON.parse(userData);\r\n\r\n                // Verificar si es premium usando la API\r\n                fetch(`/api/premium?nick=${encodeURIComponent(user.nick)}`)\r\n                    .then(res => res.json())\r\n                    .then(premium => {\r\n                        if (premium.isActive) {\r\n                            setIsPremium(true);\r\n                            cargarTorneos();\r\n                        } else {\r\n                            alert('Los Torneos Premium son exclusivos para usuarios Premium.');\r\n                            router.push('/premium-nuevo');\r\n                        }\r\n                    })\r\n                    .catch(() => {\r\n                        alert('Error al verificar estado premium.');\r\n                        router.push('/premium-nuevo');\r\n                    });\r\n            } else {\r\n                router.push('/');\r\n            }\r\n            setLoading(false);\r\n        }\r\n    }, [cargarTorneos, router]);\r\n\r\n    useEffect(() => {\r\n        if (usuarioActual) {\r\n            // Cargar estad√≠sticas desde la API\r\n            UserDataAPI.getUserData(usuarioActual.nick, 'competiciones_premium')\r\n                .then(statsData => {\r\n                    setStats((statsData as { victorias: number; participaciones: number; puntuacionTotal: number; }) || { victorias: 0, participaciones: 0, puntuacionTotal: 0 });\r\n                });\r\n        }\r\n    }, [usuarioActual]);\r\n\r\n    const esTorneoDisponibleParaUsuario = (torneoId: string) => {\r\n        // Extraer el n√∫mero de curso del ID del torneo (torneo-mensual-1primaria -> 1)\r\n        const match = torneoId.match(/torneo-mensual-(\\d)primaria/);\r\n        if (match) {\r\n            const cursoTorneo = parseInt(match[1]);\r\n            return cursoTorneo === cursoUsuario;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const registrarseTorneo = async (torneoId: string) => {\r\n        if (!usuarioActual) return;\r\n\r\n        const torneosActualizados = torneos.map(torneo => {\r\n            if (torneo.id === torneoId) {\r\n                if (torneo.participantes.includes(usuarioActual.nick)) {\r\n                    alert('Ya est√°s registrado en este torneo.');\r\n                    return torneo;\r\n                }\r\n                if (torneo.participantes.length >= torneo.maxParticipantes) {\r\n                    alert('Este torneo ya est√° completo.');\r\n                    return torneo;\r\n                }\r\n                return {\r\n                    ...torneo,\r\n                    participantes: [...torneo.participantes, usuarioActual.nick]\r\n                };\r\n            }\r\n            return torneo;\r\n        });\r\n\r\n        setTorneos(torneosActualizados);\r\n        await UserDataAPI.setUserData(usuarioActual.nick, 'torneos_premium', torneosActualizados);\r\n        alert('¬°Te has registrado exitosamente en el torneo!');\r\n    };\r\n\r\n    const iniciarTorneo = async (torneo: Torneo) => {\r\n        if (!usuarioActual) return;\r\n\r\n        // Guardar informaci√≥n del torneo activo usando la API\r\n        await UserDataAPI.setUserData(usuarioActual.nick, 'torneo_activo_premium', {\r\n            torneoId: torneo.id,\r\n            curso: torneo.id.split('-')[2], // Extraer el curso del ID (1primaria, 2primaria, etc.)\r\n            startTime: new Date().toISOString()\r\n        });\r\n\r\n        // Redirigir al modo torneo en Aprende con Pipo\r\n        router.push('/aprende-con-pipo?modo=torneo');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 flex items-center justify-center\">\r\n                <div className=\"text-white text-xl\">Cargando Torneos Premium...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isPremium) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">üéØ Torneos Premium</h1>\r\n                    <p className=\"text-purple-100 text-lg\">Compite en torneos exclusivos y gana premios especiales</p>\r\n                </div>\r\n\r\n                {torneoActivo ? (\r\n                    /* Pantalla de torneo activo */\r\n                    <div className=\"bg-white rounded-lg shadow-xl p-8 text-center\">\r\n                        <h2 className=\"text-2xl font-bold mb-4\">{torneoActivo.nombre}</h2>\r\n                        <div className=\"text-6xl mb-4\">üéØ</div>\r\n                        <p className=\"text-gray-600 mb-6\">Torneo en progreso...</p>\r\n                        <div className=\"animate-spin text-4xl\">‚è≥</div>\r\n                        <p className=\"text-sm text-gray-500 mt-4\">Calculando resultados...</p>\r\n                    </div>\r\n                ) : (\r\n                    /* Lista de torneos */\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {torneos.map((torneo) => (\r\n                            <div key={torneo.id} className=\"bg-white rounded-lg shadow-xl overflow-hidden\">\r\n                                <div className=\"bg-gradient-to-r from-purple-500 to-blue-500 p-4\">\r\n                                    <h3 className=\"text-lg font-bold text-white\">{torneo.nombre}</h3>\r\n                                </div>\r\n\r\n                                <div className=\"p-6\">\r\n                                    <p className=\"text-gray-600 mb-4\">{torneo.descripcion}</p>\r\n\r\n                                    <div className=\"space-y-2 mb-4\">\r\n                                        <div className=\"flex justify-between text-sm\">\r\n                                            <span className=\"text-gray-500\">Categor√≠a:</span>\r\n                                            <span className=\"font-semibold text-purple-600\">{torneo.categoria}</span>\r\n                                        </div>\r\n                                        <div className=\"flex justify-between text-sm\">\r\n                                            <span className=\"text-gray-500\">Participantes:</span>\r\n                                            <span className=\"font-semibold\">{torneo.participantes.length}/{torneo.maxParticipantes}</span>\r\n                                        </div>\r\n                                        <div className=\"flex justify-between text-sm\">\r\n                                            <span className=\"text-gray-500\">Estado:</span>\r\n                                            <span className={`font-semibold ${torneo.estado === 'registro' ? 'text-green-600' :\r\n                                                torneo.estado === 'finalizado' ? 'text-gray-600' : 'text-blue-600'\r\n                                                }`}>\r\n                                                {torneo.estado === 'registro' ? 'Abierto' :\r\n                                                    torneo.estado === 'finalizado' ? 'Finalizado' : 'Disponible'}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"bg-yellow-50 p-3 rounded mb-4\">\r\n                                        <p className=\"text-sm font-semibold text-yellow-800\">üèÜ Premio:</p>\r\n                                        <p className=\"text-sm text-yellow-700\">{torneo.premio}</p>\r\n                                    </div>\r\n\r\n                                    {torneo.estado === 'finalizado' && torneo.ganador && (\r\n                                        <div className=\"bg-green-50 p-3 rounded mb-4\">\r\n                                            <p className=\"text-sm font-semibold text-green-800\">ü•á Ganador:</p>\r\n                                            <p className=\"text-sm text-green-700\">{torneo.ganador}</p>\r\n                                            {torneo.resultados && torneo.resultados.length > 0 && (\r\n                                                <div className=\"mt-2\">\r\n                                                    <p className=\"text-xs text-green-600\">Top 3:</p>\r\n                                                    {torneo.resultados.slice(0, 3).map((resultado: unknown, idx: number) => (\r\n                                                        <p key={idx} className=\"text-xs\">\r\n                                                            {idx + 1}. {(resultado as Resultado).nick} - {(resultado as Resultado).aciertos}/25 ({(resultado as Resultado).puntuacion}pts)\r\n                                                        </p>\r\n                                                    ))}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className=\"flex gap-2\">\r\n                                        {torneo.estado === 'registro' && !torneo.participantes.includes(usuarioActual?.nick || '') && esTorneoDisponibleParaUsuario(torneo.id) && (\r\n                                            <button\r\n                                                onClick={() => registrarseTorneo(torneo.id)}\r\n                                                disabled={torneo.participantes.length >= torneo.maxParticipantes}\r\n                                                className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded font-semibold hover:bg-purple-700 disabled:bg-gray-400 transition-colors\"\r\n                                            >\r\n                                                Registrarse\r\n                                            </button>\r\n                                        )}\r\n\r\n                                        {torneo.estado === 'registro' && !torneo.participantes.includes(usuarioActual?.nick || '') && !esTorneoDisponibleParaUsuario(torneo.id) && (\r\n                                            <span className=\"flex-1 text-center bg-gray-100 text-gray-600 px-4 py-2 rounded font-semibold\">\r\n                                                Solo para {torneo.nombre.split(' ')[2]} {torneo.nombre.split(' ')[3]}\r\n                                            </span>\r\n                                        )}\r\n\r\n                                        {torneo.participantes.includes(usuarioActual?.nick || '') && torneo.estado === 'registro' && (\r\n                                            <span className=\"flex-1 text-center bg-green-100 text-green-800 px-4 py-2 rounded font-semibold\">\r\n                                                ‚úì Registrado\r\n                                            </span>\r\n                                        )}\r\n\r\n                                        {torneo.participantes.includes(usuarioActual?.nick || '') && (\r\n                                            <button\r\n                                                onClick={() => iniciarTorneo(torneo)}\r\n                                                className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded font-semibold hover:bg-blue-700 transition-colors\"\r\n                                            >\r\n                                                Comenzar Torneo\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Estad√≠sticas personales */}\r\n                <div className=\"mt-8 bg-white/10 backdrop-blur-sm rounded-lg p-6\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-4\">üìä Tus Estad√≠sticas en Torneos</h3>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                        <div className=\"bg-white/20 rounded p-4\">\r\n                            <div className=\"text-2xl font-bold text-white\">\r\n                                {stats.victorias}\r\n                            </div>\r\n                            <div className=\"text-purple-100\">Victorias</div>\r\n                        </div>\r\n                        <div className=\"bg-white/20 rounded p-4\">\r\n                            <div className=\"text-2xl font-bold text-white\">\r\n                                {stats.participaciones}\r\n                            </div>\r\n                            <div className=\"text-purple-100\">Participaciones</div>\r\n                        </div>\r\n                        <div className=\"bg-white/20 rounded p-4\">\r\n                            <div className=\"text-2xl font-bold text-white\">\r\n                                {stats.participaciones > 0 ? Math.round((stats.victorias / stats.participaciones) * 100) : 0}%\r\n                            </div>\r\n                            <div className=\"text-purple-100\">Tasa de Victoria</div>\r\n                        </div>\r\n                        <div className=\"bg-white/20 rounded p-4\">\r\n                            <div className=\"text-2xl font-bold text-white\">\r\n                                {stats.puntuacionTotal}\r\n                            </div>\r\n                            <div className=\"text-purple-100\">Puntuaci√≥n Total</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Bot√≥n volver */}\r\n                <div className=\"text-center mt-8\">\r\n                    <button\r\n                        onClick={() => router.push('/premium-nuevo')}\r\n                        className=\"bg-white text-purple-600 px-8 py-3 rounded-lg font-bold hover:bg-purple-50 transition-colors\"\r\n                    >\r\n                        ‚Üê Volver a Premium\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TorneosPremiumPage;","// Utilidad para manejar datos espec√≠ficos de usuario con PostgreSQL\r\nexport class UserDataAPI {\r\n    // Obtener un dato espec√≠fico\r\n    static async getUserData(nick: string, key: string): Promise<unknown> {\r\n        try {\r\n            const response = await fetch(`/api/user-data?nick=${encodeURIComponent(nick)}&key=${encodeURIComponent(key)}`);\r\n            if (!response.ok) throw new Error('Error fetching user data');\r\n            const data = await response.json();\r\n            return data.value;\r\n        } catch (error) {\r\n            console.error('Error getting user data:', error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // Guardar un dato\r\n    static async setUserData(nick: string, key: string, value: unknown): Promise<boolean> {\r\n        try {\r\n            const response = await fetch('/api/user-data', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ nick, key, value })\r\n            });\r\n            return response.ok;\r\n        } catch (error) {\r\n            console.error('Error saving user data:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // Obtener todos los datos de un usuario\r\n    static async getAllUserData(nick: string): Promise<Record<string, unknown>> {\r\n        try {\r\n            const response = await fetch(`/api/user-data?nick=${encodeURIComponent(nick)}`);\r\n            if (!response.ok) throw new Error('Error fetching user data');\r\n            return await response.json();\r\n        } catch (error) {\r\n            console.error('Error getting user data:', error);\r\n            return {};\r\n        }\r\n    }\r\n}"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}